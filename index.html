<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WarungPi</title>
  <link rel="stylesheet" href="style/main.css" />
  <script src="https://sdk.minepi.com/pi-sdk.js"></script> <!-- Tambahan SDK Pi -->
  <script src="js/main.js" defer></script>
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="logo">WarungPi</div>
      <ul class="nav-links">
        <li><a href="#beranda">Beranda</a></li>
        <li><a href="#produk">Produk</a></li>
        <li><a href="#tentang">Tentang</a></li>
        <li><a href="#kontak">Kontak</a></li>
      </ul>
    </nav>
  </header>

  <section id="beranda" class="hero">
    <h1>Selamat Datang di WarungPi</h1>
    <p>Belanja kebutuhan harian, bayar pakai Pi!</p>
    <a href="#produk" class="btn-primary">Lihat Produk</a><br><br>

    <!-- Tombol Login -->
    <button onclick="loginWithPi()" class="btn-primary">Login dengan Pi</button>
    <p id="username-display" style="margin-top: 1em;"></p>
  </section>

  <section id="produk" class="section">
    <h2>Daftar Produk</h2>
    <div class="product-table-wrapper">
      <table>
        <thead>
          <tr>
            <th>Produk</th>
            <th>Harga (IDR)</th>
            <th>Harga (Ï€)</th>
          </tr>
        </thead>
        <tbody id="product-list">
          <!-- Diisi dari main.js -->
        </tbody>
      </table>
    </div>
  </section>

  <section id="tentang" class="section">
    <h2>Tentang Kami</h2>
    <p>WarungPi adalah toko digital berbasis Pi Network. Kami menyediakan sembako dan kebutuhan harian untuk komunitas Pi di Indonesia.</p>
  </section>

  <section id="kontak" class="section">
    <h2>Kontak</h2>
    <p>Email: warung@pi.id</p>
    <p>Instagram: <a href="#">@warungpi</a></p>
  </section>

  <footer>
    <p>&copy; 2025 WarungPi - Powered by Pi Network</p>
  </footer>

  <!-- Login Script -->
  <script>
    function loginWithPi() {
      Pi.authenticate(['username'], function(auth) {
        if (auth && auth.user && auth.user.username) {
          document.getElementById('username-display').innerText = 'Halo, ' + auth.user.username + '!';
        } else {
          alert('Login dibatalkan atau gagal.');
        }
      });
    }
  </script>
</body>
</html>
