<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WarungPi</title>
  <link rel="stylesheet" href="style/main.css" />
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="logo">WarungPi</div>
      <ul class="nav-links">
        <li><a href="#beranda">Beranda</a></li>
        <li><a href="#produk">Produk</a></li>
        <li><a href="#tentang">Tentang</a></li>
        <li><a href="#kontak">Kontak</a></li>
      </ul>
    </nav>
  </header>

  <section id="beranda" class="hero">
    <h1>Selamat Datang di WarungPi</h1>
    <p>Belanja kebutuhan harian, bayar pakai Pi!</p>
    <a href="#produk" class="btn-primary">Lihat Produk</a>
  </section>

  <section id="produk" class="section">
    <h2>Daftar Produk</h2>
    <div class="product-table-wrapper">
      <table>
        <thead>
          <tr>
            <th>Produk</th>
            <th>Harga (IDR)</th>
            <th>Harga (π)</th>
            <th></th>
          </tr>
        </thead>
        <tbody id="product-list">
          <!-- Produk dimasukkan lewat JavaScript -->
        </tbody>
      </table>
    </div>
  </section>

  <section id="tentang" class="section">
    <h2>Tentang Kami</h2>
    <p>WarungPi adalah toko digital berbasis Pi Network. Kami menyediakan sembako dan kebutuhan harian untuk komunitas Pi di Indonesia.</p>
  </section>

  <section id="kontak" class="section">
    <h2>Kontak</h2>
    <p>Email: warung@pi.id</p>
    <p>Instagram: <a href="#">@warungpi</a></p>
  </section>

  <footer>
    <p>&copy; 2025 WarungPi - Powered by Pi Network</p>
  </footer>

  <!-- Tombol Navigasi Bawah -->
  <div class="floating-menu">
    <a href="#beranda">🏠 Home</a>
    <a href="#keranjang" onclick="toggleCart()">🛒 Keranjang (<span id="cart-count">0</span>)</a>
  </div>

  <!-- Ikon Keranjang di Atas -->
  <div class="cart-icon" onclick="toggleCart()">
    🛒
    <span class="cart-badge" id="cart-count-top">0</span>
  </div>

  <!-- Popup Keranjang -->
  <div class="cart-popup" id="cart-popup">
    <h3>Keranjang</h3>
    <ul id="cart-items"></ul>
    <button onclick="toggleCart()">Tutup</button>
  </div>

  <script>
    const products = [
      { nama: "Beras 5kg", idr: "70.000", pi: "0.5 π" },
      { nama: "Minyak Goreng 2L", idr: "40.000", pi: "0.3 π" },
      { nama: "Gula 1kg", idr: "14.000", pi: "0.1 π" },
    ];

    const cart = [];

    const productList = document.getElementById("product-list");
    const cartItems = document.getElementById("cart-items");
    const cartCount = document.getElementById("cart-count");
    const cartCountTop = document.getElementById("cart-count-top");

    function renderProducts() {
      productList.innerHTML = "";
      products.forEach((p, index) => {
        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${p.nama}</td>
          <td>${p.idr}</td>
          <td>${p.pi}</td>
          <td><button class="btn-cart" onclick="addToCart(${index})">+ Keranjang</button></td>
        `;
        productList.appendChild(row);
      });
    }

    function addToCart(index) {
      cart.push(products[index]);
      updateCartUI();
    }

    function updateCartUI() {
      cartItems.innerHTML = "";
      cart.forEach((item, i) => {
        const li = document.createElement("li");
        li.textContent = `${item.nama} - ${item.pi}`;
        cartItems.appendChild(li);
      });
      cartCount.textContent = cart.length;
      cartCountTop.textContent = cart.length;
    }

    function toggleCart() {
      document.getElementById("cart-popup").classList.toggle("active");
    }

    renderProducts();
  </script>
</body>
</html>
